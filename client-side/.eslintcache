[{"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\index.js":"1","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\App.js":"2","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\reportWebVitals.js":"3","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\context\\authContext.js":"4","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\pages\\CreatePlacePage.js":"5","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\pages\\ShowPage.js":"6","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\pages\\PlacesPage.js":"7","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\pages\\UserPlacePage.js":"8","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\pages\\EditPlacePage.js":"9","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\components\\Authentication\\SignUp\\SignUp.js":"10","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\components\\Authentication\\Login\\Login.js":"11","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Navigation\\NavBar\\NavBar.js":"12","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\LoadingSpinner\\LoadingSpinner.js":"13","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\Places\\Places.js":"14","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\UserPlace\\UserPlace.js":"15","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\CreatePlace\\CreatePlace.js":"16","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\EditPlace\\EditPlace.js":"17","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\ShowPlace.js":"18","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\components\\Input\\Input.js":"19","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Button\\Button.js":"20","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\components\\ImageUpload\\ImageUpload.js":"21","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\errorMsg\\errorMsg.js":"22","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Navigation\\SideDrawer\\SideDrawer.js":"23","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Navigation\\NavBar\\NavItems\\NavItems.js":"24","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Model\\Model.js":"25","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\BackDrop\\BackDrop.js":"26","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\UserProfile\\UserProfile.js":"27","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\customHooks\\useCreateNotification.js":"28","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\Comment\\Comment.js":"29","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\EditComment\\EditComment.js":"30","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\Rating\\Rating.js":"31","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Navigation\\NavBar\\NavItems\\NavItemUser\\NavItemUser.js":"32","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\Rating\\Rate\\Rate.js":"33","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\Rating\\EditRating\\EditRating.js":"34"},{"size":610,"mtime":1630588047188,"results":"35","hashOfConfig":"36"},{"size":4954,"mtime":1630588047188,"results":"37","hashOfConfig":"36"},{"size":375,"mtime":1630588047201,"results":"38","hashOfConfig":"36"},{"size":111,"mtime":1630588047188,"results":"39","hashOfConfig":"36"},{"size":270,"mtime":1630588047201,"results":"40","hashOfConfig":"36"},{"size":215,"mtime":1630588047201,"results":"41","hashOfConfig":"36"},{"size":1089,"mtime":1630588047201,"results":"42","hashOfConfig":"36"},{"size":619,"mtime":1630588047201,"results":"43","hashOfConfig":"36"},{"size":260,"mtime":1630588047201,"results":"44","hashOfConfig":"36"},{"size":4235,"mtime":1630729232659,"results":"45","hashOfConfig":"36"},{"size":3433,"mtime":1630588047220,"results":"46","hashOfConfig":"36"},{"size":569,"mtime":1630588047216,"results":"47","hashOfConfig":"36"},{"size":298,"mtime":1630588047214,"results":"48","hashOfConfig":"36"},{"size":1788,"mtime":1630734609400,"results":"49","hashOfConfig":"36"},{"size":556,"mtime":1630588047201,"results":"50","hashOfConfig":"36"},{"size":3399,"mtime":1630588047188,"results":"51","hashOfConfig":"36"},{"size":4597,"mtime":1630588047188,"results":"52","hashOfConfig":"36"},{"size":15544,"mtime":1630734633499,"results":"53","hashOfConfig":"36"},{"size":2607,"mtime":1630588047222,"results":"54","hashOfConfig":"36"},{"size":376,"mtime":1630588047212,"results":"55","hashOfConfig":"36"},{"size":1177,"mtime":1630729396495,"results":"56","hashOfConfig":"36"},{"size":287,"mtime":1630588047223,"results":"57","hashOfConfig":"36"},{"size":1320,"mtime":1630588047219,"results":"58","hashOfConfig":"36"},{"size":1889,"mtime":1630588047218,"results":"59","hashOfConfig":"36"},{"size":580,"mtime":1630588047215,"results":"60","hashOfConfig":"36"},{"size":253,"mtime":1630588047201,"results":"61","hashOfConfig":"36"},{"size":1058,"mtime":1630728619570,"results":"62","hashOfConfig":"36"},{"size":778,"mtime":1630588047188,"results":"63","hashOfConfig":"36"},{"size":920,"mtime":1630588047196,"results":"64","hashOfConfig":"36"},{"size":590,"mtime":1630588047196,"results":"65","hashOfConfig":"36"},{"size":5937,"mtime":1630729005609,"results":"66","hashOfConfig":"36"},{"size":4370,"mtime":1630728880604,"results":"67","hashOfConfig":"36"},{"size":5591,"mtime":1630588047201,"results":"68","hashOfConfig":"36"},{"size":2518,"mtime":1630588047196,"results":"69","hashOfConfig":"36"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},"1q7losb",{"filePath":"73","messages":"74","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"72"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"72"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"72"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"72"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"72"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"72"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"113","messages":"114","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"72"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140","usedDeprecatedRules":"72"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"72"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"146"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\index.js",[],["149","150"],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\App.js",["151","152","153"],"import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport NavBar from \"./share/UI/Navigation/NavBar/NavBar\";\r\nimport PlacesPage from \"./places/pages/PlacesPage\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport SignUp from \"./share/components/Authentication/SignUp/SignUp\";\r\nimport Login from \"./share/components/Authentication/Login/Login\";\r\nimport CreatePlacePage from \"./places/pages/CreatePlacePage\";\r\nimport AuthContext from \"./context/authContext\";\r\nimport EditPlacePage from \"./places/pages/EditPlacePage\";\r\nimport UserPlacePage from \"./places/pages/UserPlacePage\";\r\nimport Show from \"./places/pages/ShowPage\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n\r\nconst App = () => {\r\n  document.title = \"Place Sharing App\";\r\n\r\n  const [token, setToken] = useState(null);\r\n  const [userData, setUserData] = useState({ username: \"\", userId: \"\" });\r\n  const [showNotis, setShowNotis] = useState(false);\r\n  const [users, setUsers] = useState(null);\r\n  const [curUser, setCurUser] = useState();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const resp = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/user`);\r\n      setUsers(resp.data);\r\n    })();\r\n  }, [userData]);\r\n\r\n  useEffect(() => {\r\n    if (users && userData.userId) {\r\n      const currentUser = users.find((u) => u._id === userData.userId);\r\n      setCurUser(currentUser);\r\n    }\r\n  }, [users, userData.userId]);\r\n\r\n\r\n  const updateUserNotiHandler = (notification, notiOwnerId) => {\r\n    const notiOwner = users.find((u) => u._id === notiOwnerId);\r\n    notiOwner.notifications.push(notification);\r\n    const index = users.findIndex((u) => u._id === notiOwnerId);\r\n    const updateUsers = [...users];\r\n    updateUsers[index] = notiOwner;\r\n    setUsers(updateUsers);\r\n  };\r\n\r\n  const loginHandler = async (respData) => {\r\n    const { username, userId } = respData;\r\n    setToken(respData.token);\r\n    setUserData({ username, userId });\r\n    const resp = await axios.get(\r\n      `${process.env.REACT_APP_BACKEND_URL}/user/${userId}`\r\n    );\r\n    const loginTimer =\r\n      respData.loginTimer || new Date().getTime() + 1000 * 60 * 60;\r\n    const userAuth = {\r\n      username,\r\n      userId,\r\n      token: respData.token,\r\n      loginTimer,\r\n    };\r\n    localStorage.setItem(\"userAuth\", JSON.stringify(userAuth));\r\n  };\r\n\r\n  const logoutHandler = () => {\r\n    setToken(null);\r\n    setUserData({ username: \"\", userId: \"\" });\r\n    localStorage.clear();\r\n  };\r\n\r\n  const hideNotiHandler = (e) => {\r\n    if (!e.target.closest(\".notis\") && !e.target.closest(\".user__noti\")) {\r\n      setShowNotis(false);\r\n    }\r\n  };\r\n\r\n  const toggleNoti = async (e) => {\r\n    setShowNotis(!showNotis);\r\n    const newNoti = curUser.notifications.every((n) => !n.new);\r\n    if (!newNoti) {\r\n      const resp = await axios.put(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/${curUser._id}/notifications`\r\n      );\r\n      const currentUser = users.find((u) => u._id === userData.userId);\r\n      const index = users.findIndex((u) => u._id === userData.userId);\r\n      currentUser.notifications = resp.data;\r\n      const updateUsers = [...users];\r\n      updateUsers[index] = currentUser;\r\n      setUsers(updateUsers);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let respData;\r\n    const userAuth = JSON.parse(localStorage.getItem(\"userAuth\"));\r\n    if (userAuth) {\r\n      const { username, userId, token, loginTimer } = userAuth;\r\n      respData = { username, userId, token, loginTimer };\r\n      const currentTime = new Date().getTime();\r\n      if (loginTimer > currentTime) loginHandler(respData);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div onClick={hideNotiHandler} className=\"wrapper\">\r\n      <AuthContext.Provider\r\n        value={{\r\n          authenticated: !!token,\r\n          login: (respData) => loginHandler(respData),\r\n          logout: () => logoutHandler(),\r\n          token,\r\n          userData: userData,\r\n          noti: {\r\n            showNotis,\r\n            hideNoti: () => hideNotiHandler(),\r\n            toggleNoti: () => toggleNoti(),\r\n            curUser,\r\n          },\r\n          users,\r\n          updateUser: (noti, notiOwnerId) =>\r\n            updateUserNotiHandler(noti, notiOwnerId),\r\n          setShowNotis: (boolean) => setShowNotis(boolean),\r\n        }}\r\n      >\r\n        <NavBar />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={PlacesPage} />\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route exact path=\"/places\" component={PlacesPage} />\r\n          <Route exact path=\"/signup\" component={SignUp} />\r\n          <Route exact path=\"/place/new\" component={CreatePlacePage} />\r\n          <Route exact path=\"/place/:id\" component={Show} />\r\n          <Route exact path=\"/place/:id/update\" component={EditPlacePage} />\r\n          <Route exact path=\"/place/user/:uid\" component={UserPlacePage} />\r\n        </Switch>\r\n      </AuthContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\reportWebVitals.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\context\\authContext.js",["154"],"import React,{createContext} from \"react\"\r\n\r\nconst AuthContext =createContext()\r\n\r\nexport default AuthContext\r\n","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\pages\\CreatePlacePage.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\pages\\ShowPage.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\pages\\PlacesPage.js",["155","156"],"import React, { useState, useEffect } from \"react\";\r\nimport Places from \"../components/Places/Places\";\r\nimport axios from \"axios\";\r\nimport LoadingSpinner from \"../../share/UI/LoadingSpinner/LoadingSpinner\";\r\n\r\nconst PlacesPage = (props) => {\r\n  const [places, setPlaces] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const resp = await axios.get(\r\n          `${process.env.REACT_APP_BACKEND_URL}/place`\r\n        );\r\n        const places = resp.data;\r\n        if (places && places.length > 0) {\r\n          setPlaces(places);\r\n        } else {\r\n          throw new Error(\"No places found.\");\r\n        }\r\n        setIsLoading(false);\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        console.log(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <LoadingSpinner showSpinner={isLoading} />\r\n      <Places isLoading={isLoading} places={places} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlacesPage;\r\n","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\pages\\UserPlacePage.js",["157"],"import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport UserPlace from \"../components/UserPlace/UserPlace\";\r\n\r\nimport axios from \"axios\";\r\nconst UserPlacePage = (props) => {\r\n  const params = useParams();\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const resp = await axios.get(\r\n        `${process.env.REACT_APP_BACKEND_URL}/place/user/${params.uid}`\r\n      );\r\n      setUser(resp.data);\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <UserPlace user={user} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserPlacePage;\r\n","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\pages\\EditPlacePage.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\components\\Authentication\\SignUp\\SignUp.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\components\\Authentication\\Login\\Login.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Navigation\\NavBar\\NavBar.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\LoadingSpinner\\LoadingSpinner.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\Places\\Places.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\UserPlace\\UserPlace.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\CreatePlace\\CreatePlace.js",["158","159","160","161","162"],"import React, { useState, useEffect, useContext } from \"react\";\r\nimport Input from \"../../../share/components/Input/Input\";\r\nimport Button from \"../../../share/UI/Button/Button\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport AuthContext from \"../../../context/authContext\";\r\nimport ImageUpload from \"../../../share/components/ImageUpload/ImageUpload\";\r\n\r\nimport moment from \"moment\";\r\nconst CreatePlace = (props) => {\r\n  const history = useHistory();\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const [inputValues, setInputValues] = useState({\r\n    title: {\r\n      value: \"\",\r\n      isValid: false,\r\n    },\r\n    description: {\r\n      value: \"\",\r\n      isValid: false,\r\n    },\r\n    image: {\r\n      value: \"\",\r\n      isValid: false,\r\n    },\r\n  });\r\n\r\n  const [allValid, setAllValid] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const inputValuesHandler = (value, isValid, id) => {\r\n    const changedInput = { ...inputValues[id], value, isValid };\r\n    setInputValues({ ...inputValues, [id]: changedInput });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const valids = [];\r\n    const keys = Object.keys(inputValues);\r\n    keys.forEach((k) => {\r\n      valids.push(inputValues[k].isValid);\r\n    });\r\n    valids.every((v) => v) ? setAllValid(true) : setAllValid(false);\r\n  }, [inputValues]);\r\n\r\n  const creatingPlaceHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const formData = new FormData();\r\n\r\n      formData.append(\"title\", inputValues.title.value);\r\n      formData.append(\"description\", inputValues.description.value);\r\n      formData.append(\"image\", inputValues.image.value);\r\n      formData.append(\"username\", authContext.userData.username);\r\n      formData.append(\"author\", authContext.userData.userId);\r\n      const resp = await axios.post(\r\n        `${process.env.REACT_APP_BACKEND_URL}/place`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            Authorization: authContext.token,\r\n          },\r\n        }\r\n      );\r\n      history.push(\"/\");\r\n      const newPlace = resp.data;\r\n    } catch (err) {\r\n      setError(err);\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  console.log(inputValues.image.value)\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <form onSubmit={creatingPlaceHandler} className=\"form\">\r\n        <Input\r\n          element=\"input\"\r\n          type=\"text\"\r\n          label=\"Title\"\r\n          id=\"title\"\r\n          validRules={{ type: \"REQUIRE\" }}\r\n          invalidText=\"This field can't be empty!\"\r\n          inputValues={(value, isValid, id) =>\r\n            inputValuesHandler(value, isValid, id)\r\n          }\r\n        />\r\n        <ImageUpload \r\n            id=\"image\" inputValues={(value, isValid, id) =>\r\n            inputValuesHandler(value, isValid, id)\r\n          }  />\r\n        <Input\r\n          element=\"textarea\"\r\n          label=\"Description\"\r\n          id=\"description\"\r\n          validRules={{ type: \"MIN_LENGTH\", count: 30 }}\r\n          invalidText=\"minnimal length 30 characters.\"\r\n          inputValues={(value, isValid, id) =>\r\n            inputValuesHandler(value, isValid, id)\r\n          }\r\n          rows=\"4\"\r\n          cols=\"40\"\r\n        />\r\n        <Button disabled={!allValid} className=\"form__btn\">\r\n          Submit\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePlace;\r\n","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\EditPlace\\EditPlace.js",["163","164","165"],"import React, { useState, useEffect, useContext } from \"react\";\r\nimport Input from \"../../../share/components/Input/Input\";\r\nimport Button from \"../../../share/UI/Button/Button\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport AuthContext from \"../../../context/authContext\";\r\nimport LoadingSpinner from \"../../../share/UI/LoadingSpinner/LoadingSpinner\";\r\nimport ImageUpload from \"../../../share/components/ImageUpload/ImageUpload\";\r\n\r\n\r\nconst EditPlace = (props) => {\r\n  const placeId = useParams().id;\r\n  const history = useHistory();\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const [inputValues, setInputValues] = useState({\r\n    title: {\r\n      value: \"\",\r\n      isValid: false,\r\n    },\r\n    description: {\r\n      value: \"\",\r\n      isValid: false,\r\n    },\r\n    image: {\r\n      value: \"\",\r\n      isValid: false,\r\n    },\r\n  });\r\n\r\n  const [allValid, setAllValid] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const inputValuesHandler = (value, isValid, id) => {\r\n    const changedInput = { ...inputValues[id], value, isValid };\r\n    setInputValues({ ...inputValues, [id]: changedInput });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const valids = [];\r\n    const keys = Object.keys(inputValues);\r\n    keys.forEach((k) => {\r\n      valids.push(inputValues[k].isValid);\r\n    });\r\n    valids.every((v) => v) ? setAllValid(true) : setAllValid(false);\r\n  }, [inputValues]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const resp = await axios.get(\r\n          `${process.env.REACT_APP_BACKEND_URL}/place/${placeId}`\r\n        );\r\n        const place = resp.data;\r\n\r\n        const placeWithValues = {\r\n          title: {\r\n            value: place.title,\r\n            isValid: true,\r\n          },\r\n          description: {\r\n            value: place.description,\r\n            isValid: true,\r\n          },\r\n          image: {\r\n            value: place.image,\r\n            isValid: true,\r\n          },\r\n        };\r\n        setInputValues(placeWithValues);\r\n        setIsLoading(false);\r\n      } catch (err) {\r\n        setError(err);\r\n        console.log(err);\r\n        setIsLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  \r\n  const editingPlaceHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const formData = new FormData();\r\n      \r\n      formData.append(\"title\", inputValues.title.value);\r\n      formData.append(\"description\", inputValues.description.value);\r\n      formData.append(\"image\", inputValues.image.value);\r\n      formData.append(\"username\", authContext.userData.username);\r\n      formData.append(\"author\", authContext.userData.userId);\r\n      formData.append(\"date\", new Date().toDateString(),);\r\n\r\n      const resp = await axios.put(\r\n        `${process.env.REACT_APP_BACKEND_URL}/place/${placeId}`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            Authorization: authContext.token,\r\n            userId: authContext.userData.userId,\r\n          },\r\n        }\r\n      );\r\n      const newPlace = resp.data;\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      setError(err);\r\n      console.log(err);\r\n    }\r\n  };\r\n  console.log(inputValues)\r\n\r\n  return (\r\n    <>\r\n      <LoadingSpinner showSpinner={isLoading} />\r\n      <div className=\"login\">\r\n        <form onSubmit={editingPlaceHandler} className=\"form\">\r\n          <Input\r\n            element=\"input\"\r\n            type=\"text\"\r\n            label=\"Title\"\r\n            id=\"title\"\r\n            validRules={{ type: \"REQUIRE\" }}\r\n            invalidText=\"This field can't be empty!\"\r\n            inputValues={(value, isValid, id) =>\r\n              inputValuesHandler(value, isValid, id)\r\n            }\r\n            editValues={inputValues}\r\n          />\r\n         <ImageUpload \r\n            id=\"image\" inputValues={(value, isValid, id) =>\r\n            inputValuesHandler(value, isValid, id)}\r\n            />\r\n          <Input\r\n            element=\"textarea\"\r\n            label=\"Description\"\r\n            id=\"description\"\r\n            validRules={{ type: \"MIN_LENGTH\", count: 5 }}\r\n            invalidText=\"This field can't be empty!\"\r\n            inputValues={(value, isValid, id) =>\r\n              inputValuesHandler(value, isValid, id)\r\n            }\r\n            rows=\"4\"\r\n            cols=\"40\"\r\n            editValues={inputValues}\r\n          />\r\n          <Button disabled={!allValid} className=\"form__btn\">\r\n            Submit\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditPlace;\r\n","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\ShowPlace.js",["166","167"],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\components\\Input\\Input.js",["168","169"],"import React, { useReducer, useEffect } from \"react\";\r\n\r\nimport \"./Input.css\";\r\n\r\nconst checkValid = (value, validRules) => {\r\n  if (validRules.type === \"REQUIRE\") {\r\n    return value.length > 0;\r\n  } else if (validRules.type === \"MIN_LENGTH\") {\r\n    return value.length >= validRules.count;\r\n  }\r\n};\r\n\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"CHANGE\":\r\n      return {\r\n        ...state,\r\n        value: action.value,\r\n        isValid: action.checkValidity(action.value, action.validRules),\r\n        isTouched: true,\r\n      };\r\n  }\r\n};\r\n\r\nconst Input = (props) => {\r\n  const [enteredVal, dispatch] = useReducer(inputReducer, {\r\n    value: \"\",\r\n    isValid: false,\r\n    isTouched: false,\r\n  });\r\n\r\n  const changeHandler = (e) => {\r\n    dispatch({\r\n      type: \"CHANGE\",\r\n      value: e.target.value,\r\n      validRules: props.validRules,\r\n      checkValidity: (value, validRules) => checkValid(value, validRules),\r\n    });\r\n  };\r\n  const { value, isValid } = enteredVal;\r\n\r\n  useEffect(() => {\r\n    props.inputValues(value, isValid, props.id);\r\n  }, [value, isValid]);\r\n\r\n  let element;\r\n  if (props.element === \"input\") {\r\n    element = (\r\n      <input\r\n        name={props.id}\r\n        onChange={changeHandler}\r\n        type={props.type}\r\n        id={props.id}\r\n        className={`input ${props.className}`}\r\n        value={\r\n          props.editValues ? props.editValues[props.id].value : enteredVal.value\r\n        }\r\n      />\r\n    );\r\n  } else if (props.element === \"textarea\") {\r\n    element = (\r\n      <textarea\r\n        name={props.id}\r\n        rows=\"4\"\r\n        cols=\"40\"\r\n        onChange={changeHandler}\r\n        // value={props.EditValues?\"Hello\":enteredVal.value}\r\n        value={\r\n          props.editValues ? props.editValues[props.id].value : enteredVal.value\r\n        }\r\n        className={`input textarea ${props.className}`}\r\n      ></textarea>\r\n    );\r\n  } else if (props.element === \"fileUpload\") {\r\n    element = (\r\n      <input\r\n        name={props.id}\r\n        onChange={changeHandler}\r\n        type={props.type}\r\n        id={props.id}\r\n        className={`${props.className}`}\r\n        value={\r\n          props.editValues ? props.editValues[props.id].value : enteredVal.value\r\n        }\r\n      />\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"input-container\">\r\n      <label className=\"label\" htmlFor={props.id}>\r\n        {props.label}\r\n      </label>\r\n      {element}\r\n      {!enteredVal.isValid && enteredVal.isTouched && (\r\n        <p className=\"invalid-text\">{props.invalidText}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Button\\Button.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\components\\ImageUpload\\ImageUpload.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\errorMsg\\errorMsg.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Navigation\\SideDrawer\\SideDrawer.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Navigation\\NavBar\\NavItems\\NavItems.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Model\\Model.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\BackDrop\\BackDrop.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\UserProfile\\UserProfile.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\customHooks\\useCreateNotification.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\Comment\\Comment.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\EditComment\\EditComment.js",[],"C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\Rating\\Rating.js",["170","171"],"import React, { useState, useContext, useEffect } from \"react\";\r\n\r\nimport Button from \"../../../../share/UI/Button/Button\";\r\nimport BackDrop from \"../../../../share/UI/BackDrop/BackDrop\";\r\nimport Modal from \"../../../../share/UI/Model/Model\";\r\nimport Rate from \"./Rate/Rate\";\r\nimport \"./Rating.css\";\r\nimport AuthContext from \"../../../../context/authContext\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport EditRating from \"./EditRating/EditRating\";\r\nimport UserProfile from \"../../ShowPlace/UserProfile/UserProfile\";\r\n\r\nconst Rating = (props) => {\r\n  const placeId = useParams().id;\r\n  const [ratings, setRatings] = useState([]);\r\n  useEffect(() => {\r\n    (async () => {\r\n      const resp = await axios.get(\r\n        `${process.env.REACT_APP_BACKEND_URL}/place/${placeId}/rating`\r\n      );\r\n      setRatings(resp.data);\r\n    })();\r\n  }, []);\r\n\r\n  const addRatingHandler = (newRating) => {\r\n    setRatings([...ratings, newRating]);\r\n  };\r\n\r\n  const updateRatingHandler = (rating) => {\r\n    const updateRatingIndex = ratings.findIndex((r) => r._id === rating._id);\r\n    const allRatings = [...ratings];\r\n    allRatings[updateRatingIndex] = rating;\r\n    console.log(rating);\r\n    setRatings(allRatings);\r\n  };\r\n\r\n  const deleteRatingHandler = (rating) => {\r\n    const deletedRating = ratings.filter((r) => r._id !== rating._id);\r\n    setRatings(deletedRating);\r\n  };\r\n\r\n  const showEditDropDownHandler = (ratingId) => {\r\n    const rating = ratings.find((r) => r._id === ratingId);\r\n    rating.editing\r\n      ? (rating.editing = !rating.editing)\r\n      : (rating.editing = true);\r\n  };\r\n\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const [showRating, setShowRating] = useState(false);\r\n  const [showOptions, setShowOptions] = useState(false);\r\n  const [rate, setRate] = useState(false);\r\n\r\n  const showRatingHandler = () => {\r\n    setShowRating(true);\r\n    setShowOptions(false);\r\n  };\r\n\r\n  const hideRatingHandler = (state) => {\r\n    const hideEditingDropDown = () => {\r\n      const notEditingRating = ratings.map((r) => {\r\n        if (r.editing) {\r\n          return { ...r, editing: false };\r\n        }\r\n        return { ...r };\r\n      });\r\n      setRatings(notEditingRating);\r\n    };\r\n    if (state === \"editing\" || state === \"deleting\") {\r\n      hideEditingDropDown();\r\n      return;\r\n    }\r\n    setRate(false);\r\n    hideEditingDropDown();\r\n    setShowRating(false);\r\n    setShowOptions(false);\r\n  };\r\n\r\n  const showOptionsHandler = () => {\r\n    setShowOptions(!showOptions);\r\n  };\r\n\r\n  const hideRateHandler = () => {\r\n    setRate(false);\r\n  };\r\n\r\n  const rateHandler = () => {\r\n    setRate(true);\r\n    setShowOptions(false);\r\n  };\r\n\r\n  const ratedUser = ratings.some(\r\n    (r) => r.author.userId === authContext.userData.userId\r\n  );\r\n\r\n  let ratingsOutput;\r\n  if (ratings && ratings.length > 0) {\r\n    ratingsOutput = ratings.map((r) => {\r\n      let ratedStars = [];\r\n      const [starNum] = r.star.split(\" \");\r\n      for (let i = 0; i < parseInt(starNum); i++) {\r\n        ratedStars.push(<i class=\"rated fas fa-star\"></i>);\r\n      }\r\n      while (ratedStars.length !== 5) {\r\n        ratedStars.push(<i class=\"far fa-star\"></i>);\r\n      }\r\n\r\n      return (\r\n        <>\r\n          <div className=\"rating\">\r\n            <div className=\"rating__stars\">{ratedStars}</div>\r\n            <div className=\"rating__infos\">\r\n              <div className=\"rating__edit\">\r\n                <UserProfile\r\n                  text={<p className=\"rating__review\">{r.review}</p>}\r\n                  className=\"rating__profile\"\r\n                  link=\"true\"\r\n                  userId={r.author.userId}\r\n                />\r\n                <EditRating\r\n                  showDropDown={r.editing}\r\n                  showEditDropDown={(id) => showEditDropDownHandler(id)}\r\n                  ratingId={r._id}\r\n                  hideRating={(state) => hideRatingHandler(state)}\r\n                  ratingStar={r.star}\r\n                  ratingReview={r.review}\r\n                  showRating={showRating}\r\n                  deleteRating={deleteRatingHandler}\r\n                  updateRating={(rating) => updateRatingHandler(rating)}\r\n                  authContext={authContext}\r\n                  ratingOwner={authContext.userData.userId === r.author.userId}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      );\r\n    });\r\n  } else {\r\n    ratingsOutput = (\r\n      <p style={{ color: \"blue\", textAlign: \"center\", margin: \"2rem\" }}>\r\n        No ratings to show.\r\n      </p>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BackDrop clicked={hideRatingHandler} showBackDrop={showRating || rate} />\r\n      <div className=\"ratings\">\r\n        <Button clicked={showOptionsHandler} className=\"ratings__btn\">\r\n          <span className=\"ratings__text\">Rating</span>\r\n          <i\r\n            className={`user__noti-icon fas fa-angle-${\r\n              showOptions ? \"up\" : \"down\"\r\n            }`}\r\n          ></i>\r\n        </Button>\r\n        <div className={showOptions ? \"options show-options\" : \"options\"}>\r\n          <ul className=\"options__lists\">\r\n            <li onClick={showRatingHandler} className=\"options__list\">\r\n              Ratings\r\n            </li>\r\n            {authContext.authenticated && !ratedUser && (\r\n              <li onClick={rateHandler} className=\"options__list\">\r\n                Rate\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={`${\r\n          showRating ? \"rating-modal show-rating\" : \"rating-modal\"\r\n        }`}\r\n      >\r\n        {ratingsOutput}\r\n      </div>\r\n      <Rate\r\n        closeRate={() => hideRateHandler()}\r\n        addRating={(rating) => addRatingHandler(rating)}\r\n        hideRating={() => hideRatingHandler()}\r\n        placeId={props.placeId}\r\n        rate={rate}\r\n        placeOwnerId={props.placeOwnerId}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Rating;\r\n","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\share\\UI\\Navigation\\NavBar\\NavItems\\NavItemUser\\NavItemUser.js",["172","173"],"import React, { useState, useContext, useEffect } from \"react\";\r\n\r\nimport moment from \"moment\";\r\nimport \"./NavItemUser.css\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport AuthContext from \"../../../../../../context/authContext\";\r\nimport UserProfile from \"../../../../../../places/components/ShowPlace/UserProfile/UserProfile\";\r\n\r\nconst NavItemUser = (props) => {\r\n  const [showNoti, setShowNoti] = useState([]);\r\n  const history = useHistory();\r\n  let reverseNoti = [];\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const notiContext = useContext(AuthContext).noti;\r\n  const { curUser } = notiContext;\r\n\r\n  useEffect(() => {\r\n    if (reverseNoti) {\r\n      const firstNoti = reverseNoti.slice(0, 10);\r\n      setShowNoti(firstNoti);\r\n    }\r\n  }, [curUser, curUser.notifications, authContext.users]);\r\n\r\n  const newNoti =\r\n    notiContext.curUser &&\r\n    notiContext.curUser.notifications.filter((n) => n.new).length;\r\n\r\n  let notiOutPut;\r\n\r\n  if (notiContext.curUser && notiContext.curUser.notifications) {\r\n    for (let i = notiContext.curUser.notifications.length - 1; i >= 0; i--) {\r\n      reverseNoti.push(notiContext.curUser.notifications[i]);\r\n    }\r\n  }\r\n\r\n  const navigateToPlaceHandler = (placeId) => {\r\n    history.push(`/place/${placeId}`);\r\n    authContext.setShowNotis(false);\r\n  };\r\n\r\n  notiOutPut =\r\n    showNoti &&\r\n    showNoti.map((notis) => {\r\n      console.log(notis);\r\n      return (\r\n        <div\r\n          onClick={() => navigateToPlaceHandler(notis.placeId)}\r\n          className=\"noti\"\r\n        >\r\n          <UserProfile\r\n            text={<span className=\"noti__action\">{notis.action}</span>}\r\n            className=\"noti__user-profile\"\r\n            userId={notis.userId}\r\n          />\r\n          <p className=\"noti__date\">{moment(notis.date).fromNow()}</p>\r\n        </div>\r\n      );\r\n    });\r\n\r\n  let showMoreNoti;\r\n  const allNotiLength = reverseNoti.length;\r\n  const shownNotiLength = showNoti.length;\r\n\r\n  const showMoreNotiHandler = () => {\r\n    if (allNotiLength - shownNotiLength >= 10) {\r\n      const moreNoti = reverseNoti.slice(shownNotiLength, shownNotiLength + 10);\r\n      setShowNoti([...showNoti, ...moreNoti]);\r\n    } else if (allNotiLength > shownNotiLength) {\r\n      const allLeftNoti = reverseNoti.slice(shownNotiLength);\r\n      setShowNoti([...showNoti, ...allLeftNoti]);\r\n    }\r\n  };\r\n\r\n  const showLessNotiHandler = () => {\r\n    const lessNoti = reverseNoti.slice(0, 10);\r\n    setShowNoti(lessNoti);\r\n  };\r\n\r\n  if (allNotiLength > shownNotiLength) {\r\n    showMoreNoti = (\r\n      <p className=\"user__noti-list\" onClick={showMoreNotiHandler}>\r\n        <i className=\"user__noti-icon fas fa-angle-down\"></i>\r\n        <span className=\"user__noti-text\">Show More</span>\r\n      </p>\r\n    );\r\n  } else if (reverseNoti.length === 0) {\r\n    showMoreNoti = <p className=\"user__noti-list\">No notifications yet.</p>;\r\n  } else if (reverseNoti.length <= 10) {\r\n    <p className=\"user__noti-list\" onClick={showMoreNotiHandler}>\r\n      <i className=\"user__noti-icon fas fa-angle-down\"></i>\r\n    </p>;\r\n  } else {\r\n    showMoreNoti = (\r\n      <p className=\"user__noti-list\" onClick={showLessNotiHandler}>\r\n        <i className=\"user__noti-icon fas fa-angle-up\"></i>\r\n        <span className=\"user__noti-text\">Show Less</span>\r\n      </p>\r\n    );\r\n  }\r\n\r\n  const goToProfileHandler = () => {\r\n    history.push(`/place/user/${notiContext.curUser._id}`);\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"user\">\r\n        <i onClick={notiContext.toggleNoti} className=\"user__noti fas fa-bell\">\r\n          {newNoti > 0 && <span className=\"user__noti--num\">{newNoti}</span>}\r\n        </i>\r\n        <div className={notiContext.showNotis ? \"notis show-notis\" : \"notis\"}>\r\n          <span onClick={notiContext.toggleNoti} className=\"user__noti-close\">\r\n            X\r\n          </span>\r\n          {notiOutPut}\r\n          {showMoreNoti}\r\n        </div>\r\n        <div onClick={goToProfileHandler} className=\"user__infos\">\r\n          {curUser.image ? (\r\n            <img\r\n              className=\"user__profile\"\r\n              src={`${process.env.REACT_APP_BACKEND_URL}/${curUser.image}`}\r\n              alt=\"profile-picture\"\r\n            />\r\n          ) : (\r\n            <span className=\"user__profile-name\">{curUser.username[0]}</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavItemUser;\r\n","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\Rating\\Rate\\Rate.js",["174","175","176","177","178","179"],"import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Modal from \"../../../../../share/UI/Model/Model\";\r\nimport Button from \"../../../../../share/UI/Button/Button\";\r\nimport Spinner from \"../../../../../share/UI/LoadingSpinner/LoadingSpinner\";\r\nimport AuthContext from \"../../../../../context/authContext\";\r\nimport axios from \"axios\";\r\nimport useCreateNotification from \"../../../../../customHooks/useCreateNotification\";\r\nimport \"./Rate.css\";\r\nconst Rate = (props) => {\r\n  const placeId = useParams().id;\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const [createNoti] = useCreateNotification(\"\");\r\n\r\n  const [starCount, setStarCount] = useState(\"\");\r\n  const [review, setReview] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [ratingState, setRatingState] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (props.editing) {\r\n      const ratingStar = props.ratingStar.split(\" \")[0];\r\n      setStarCount(ratingStar);\r\n      setReview(props.ratingReview);\r\n    }\r\n  }, [props.editing]);\r\n\r\n  useEffect(() => {\r\n    if (starCount) {\r\n      if (starCount == \"1\") {\r\n        setRatingState(\"Horrible\");\r\n      } else if (starCount == \"2\") {\r\n        setRatingState(\"Bad\");\r\n      } else if (starCount == \"3\") {\r\n        setRatingState(\"Medium\");\r\n      } else if (starCount == \"4\") {\r\n        setRatingState(\"Good\");\r\n      } else if (starCount == \"5\") {\r\n        setRatingState(\"Amazing\");\r\n      }\r\n    }\r\n  }, [starCount]);\r\n\r\n  const outPutStars = [];\r\n  const ratedStarCls = \"fas fa-star\";\r\n  const starCls = \"far fa-star\";\r\n  let stars;\r\n  const ratingHandler = (e) => {\r\n    const starNum = e.target.dataset.star;\r\n    if (e.target.classList.contains(\"rate__star\")) {\r\n      if (outPutStars.length > 0 && outPutStars[starNum - 1].includes(\"fas\")) {\r\n        setStarCount(starNum - 1);\r\n      } else {\r\n        setStarCount(starNum);\r\n      }\r\n    }\r\n  };\r\n  if (starCount) {\r\n    for (let i = 0; i < starCount; i++) {\r\n      outPutStars.push(ratedStarCls);\r\n    }\r\n    while (outPutStars.length !== 5) {\r\n      outPutStars.push(starCls);\r\n    }\r\n  }\r\n\r\n  if (outPutStars.length === 0) {\r\n    stars = (\r\n      <>\r\n        <i className=\"rate__star far fa-star\" data-star=\"1\"></i>\r\n        <i className=\"rate__star far fa-star\" data-star=\"2\"></i>\r\n        <i className=\"rate__star far fa-star\" data-star=\"3\"></i>\r\n        <i className=\"rate__star far fa-star\" data-star=\"4\"></i>\r\n        <i className=\"rate__star far fa-star\" data-star=\"5\"></i>\r\n      </>\r\n    );\r\n  } else {\r\n    stars = outPutStars.map((starCls, i) => {\r\n      return <i className={`rate__star ${starCls}`} data-star={i + 1}></i>;\r\n    });\r\n  }\r\n\r\n  const writingReviewHandler = (e) => {\r\n    setReview(e.target.value);\r\n  };\r\n\r\n  const submitRatingHandler = async (e) => {\r\n    const updateRating = {\r\n      author: {\r\n        username: authContext.userData.username,\r\n        userId: authContext.userData.userId,\r\n      },\r\n      review,\r\n      star: starCount + \" stars\",\r\n    };\r\n    e.preventDefault();\r\n    if (props.editing) {\r\n      setLoading(true);\r\n      props.closeRate();\r\n      try {\r\n        const resp = await axios.put(\r\n          `${process.env.REACT_APP_BACKEND_URL}/place/${placeId}/rating/${props.ratingId}`,\r\n          updateRating,\r\n          {\r\n            headers: {\r\n              Authorization: authContext.token,\r\n            },\r\n          }\r\n        );\r\n        setLoading(false);\r\n        props.updateRating(resp.data);\r\n        setStarCount(0);\r\n        setReview(\"\");\r\n      } catch (err) {\r\n        setLoading(false);\r\n      }\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      props.hideRating();\r\n      const rating = {\r\n        author: {\r\n          username: authContext.userData.username,\r\n          userId: authContext.userData.userId,\r\n        },\r\n        review,\r\n        star: starCount + \" stars\",\r\n      };\r\n      const resp = await axios.post(\r\n        `${process.env.REACT_APP_BACKEND_URL}/place/${placeId}/rating`,\r\n        rating,\r\n        {\r\n          headers: {\r\n            Authorization: authContext.token,\r\n          },\r\n        }\r\n      );\r\n      props.addRating(resp.data);\r\n      setLoading(false);\r\n      setStarCount(0);\r\n      setReview(\"\");\r\n      createNoti(props.placeOwnerId, \" rated your place.\", props.placeId);\r\n    } catch (err) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  let checkBtnDisable = false;\r\n  if (!starCount || review === \"\") {\r\n    checkBtnDisable = true;\r\n  }\r\n\r\n  const cancelRateHandler = () => {\r\n    props.closeRate();\r\n  };\r\n\r\n  const ratingStars = (\r\n    <form onSubmit={submitRatingHandler} className=\"rate\">\r\n      <p className=\"rate__state\">\r\n        <em>{starCount ? ratingState : \"\"}</em>\r\n      </p>\r\n      <div onClick={ratingHandler} className=\"rate-icons\">\r\n        {stars}\r\n      </div>\r\n      <textarea\r\n        className=\"rate__review\"\r\n        placeholder=\"What do you think?\"\r\n        rows=\"6\"\r\n        cols=\"60\"\r\n        value={review}\r\n        onChange={writingReviewHandler}\r\n      ></textarea>\r\n      <Button disabled={checkBtnDisable} className=\"rate__btn\">\r\n        Submit\r\n      </Button>\r\n      <Button\r\n        clicked={cancelRateHandler}\r\n        type=\"button\"\r\n        className=\"rate__cancel\"\r\n      >\r\n        Cancel\r\n      </Button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        showModel={props.rate}\r\n        content={ratingStars}\r\n        header=\"Give an honest review.\"\r\n      />\r\n      <Spinner showSpinner={loading} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rate;\r\n","C:\\Users\\DELL\\Desktop\\Projects\\Place_Sharing_App\\client-side\\src\\places\\components\\ShowPlace\\Rating\\EditRating\\EditRating.js",[],{"ruleId":"180","replacedBy":"181"},{"ruleId":"182","replacedBy":"183"},{"ruleId":"184","severity":1,"message":"185","line":5,"column":25,"nodeType":"186","messageId":"187","endLine":5,"endColumn":33},{"ruleId":"184","severity":1,"message":"188","line":14,"column":8,"nodeType":"186","messageId":"187","endLine":14,"endColumn":14},{"ruleId":"184","severity":1,"message":"189","line":53,"column":11,"nodeType":"186","messageId":"187","endLine":53,"endColumn":15},{"ruleId":"184","severity":1,"message":"190","line":1,"column":8,"nodeType":"186","messageId":"187","endLine":1,"endColumn":13},{"ruleId":"184","severity":1,"message":"191","line":8,"column":10,"nodeType":"186","messageId":"187","endLine":8,"endColumn":15},{"ruleId":"184","severity":1,"message":"192","line":8,"column":17,"nodeType":"186","messageId":"187","endLine":8,"endColumn":25},{"ruleId":"193","severity":1,"message":"194","line":17,"column":6,"nodeType":"195","endLine":17,"endColumn":8,"suggestions":"196"},{"ruleId":"184","severity":1,"message":"188","line":9,"column":8,"nodeType":"186","messageId":"187","endLine":9,"endColumn":14},{"ruleId":"184","severity":1,"message":"197","line":30,"column":10,"nodeType":"186","messageId":"187","endLine":30,"endColumn":19},{"ruleId":"184","severity":1,"message":"198","line":30,"column":21,"nodeType":"186","messageId":"187","endLine":30,"endColumn":33},{"ruleId":"184","severity":1,"message":"191","line":31,"column":10,"nodeType":"186","messageId":"187","endLine":31,"endColumn":15},{"ruleId":"184","severity":1,"message":"199","line":67,"column":13,"nodeType":"186","messageId":"187","endLine":67,"endColumn":21},{"ruleId":"184","severity":1,"message":"191","line":33,"column":10,"nodeType":"186","messageId":"187","endLine":33,"endColumn":15},{"ruleId":"193","severity":1,"message":"200","line":80,"column":6,"nodeType":"195","endLine":80,"endColumn":8,"suggestions":"201"},{"ruleId":"184","severity":1,"message":"199","line":105,"column":13,"nodeType":"186","messageId":"187","endLine":105,"endColumn":21},{"ruleId":"184","severity":1,"message":"191","line":26,"column":10,"nodeType":"186","messageId":"187","endLine":26,"endColumn":15},{"ruleId":"184","severity":1,"message":"202","line":247,"column":13,"nodeType":"186","messageId":"187","endLine":247,"endColumn":26},{"ruleId":"203","severity":1,"message":"204","line":14,"column":3,"nodeType":"205","messageId":"206","endLine":22,"endColumn":4},{"ruleId":"193","severity":1,"message":"207","line":44,"column":6,"nodeType":"195","endLine":44,"endColumn":22,"suggestions":"208"},{"ruleId":"184","severity":1,"message":"209","line":5,"column":8,"nodeType":"186","messageId":"187","endLine":5,"endColumn":13},{"ruleId":"193","severity":1,"message":"200","line":24,"column":6,"nodeType":"195","endLine":24,"endColumn":8,"suggestions":"210"},{"ruleId":"193","severity":1,"message":"211","line":25,"column":6,"nodeType":"195","endLine":25,"endColumn":57,"suggestions":"212"},{"ruleId":"213","severity":1,"message":"214","line":122,"column":13,"nodeType":"215","endLine":126,"endColumn":15},{"ruleId":"193","severity":1,"message":"216","line":27,"column":6,"nodeType":"195","endLine":27,"endColumn":21,"suggestions":"217"},{"ruleId":"218","severity":1,"message":"219","line":31,"column":21,"nodeType":"220","messageId":"221","endLine":31,"endColumn":23},{"ruleId":"218","severity":1,"message":"219","line":33,"column":28,"nodeType":"220","messageId":"221","endLine":33,"endColumn":30},{"ruleId":"218","severity":1,"message":"219","line":35,"column":28,"nodeType":"220","messageId":"221","endLine":35,"endColumn":30},{"ruleId":"218","severity":1,"message":"219","line":37,"column":28,"nodeType":"220","messageId":"221","endLine":37,"endColumn":30},{"ruleId":"218","severity":1,"message":"219","line":39,"column":28,"nodeType":"220","messageId":"221","endLine":39,"endColumn":30},"no-native-reassign",["222"],"no-negated-in-lhs",["223"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'moment' is defined but never used.","'resp' is assigned a value but never used.","'React' is defined but never used.","'error' is assigned a value but never used.","'setError' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'params.uid'. Either include it or remove the dependency array.","ArrayExpression",["224"],"'isLoading' is assigned a value but never used.","'setIsLoading' is assigned a value but never used.","'newPlace' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'placeId'. Either include it or remove the dependency array.",["225"],"'editedComment' is assigned a value but never used.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["226"],"'Modal' is defined but never used.",["227"],"React Hook useEffect has a missing dependency: 'reverseNoti'. Either include it or remove the dependency array.",["228"],"jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You dont need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","React Hook useEffect has missing dependencies: 'props.ratingReview' and 'props.ratingStar'. Either include them or remove the dependency array. If 'setReview' needs the current value of 'props.ratingReview', you can also switch to useReducer instead of useState and read 'props.ratingReview' in the reducer.",["229"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"230","fix":"231"},{"desc":"232","fix":"233"},{"desc":"234","fix":"235"},{"desc":"232","fix":"236"},{"desc":"237","fix":"238"},{"desc":"239","fix":"240"},"Update the dependencies array to be: [params.uid]",{"range":"241","text":"242"},"Update the dependencies array to be: [placeId]",{"range":"243","text":"244"},"Update the dependencies array to be: [value, isValid, props]",{"range":"245","text":"246"},{"range":"247","text":"244"},"Update the dependencies array to be: [curUser, curUser.notifications, authContext.users, reverseNoti]",{"range":"248","text":"249"},"Update the dependencies array to be: [props.editing, props.ratingReview, props.ratingStar]",{"range":"250","text":"251"},[506,508],"[params.uid]",[2280,2282],"[placeId]",[1087,1103],"[value, isValid, props]",[874,876],[765,816],"[curUser, curUser.notifications, authContext.users, reverseNoti]",[1065,1080],"[props.editing, props.ratingReview, props.ratingStar]"]